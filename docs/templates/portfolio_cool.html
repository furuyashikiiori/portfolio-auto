<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ name }} のポートフォリオ</title>
    <link rel="stylesheet" href="/static/css/cool.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="container">
      <!-- ===== ヘッダー ===== -->
      <header class="hero">
        <div class="hero-content">
          {% if icon_path %}
          <div class="profile-image">
            <img
              src="{{ icon_path }}"
              alt="{{ name }}のアイコン"
              class="profile-icon-image"
            />
          </div>
          {% endif %}
          <h1 class="hero-title">{{ name }}</h1>
          {% if title %}
          <p class="hero-subtitle">{{ title }}</p>
          {% endif %}
          <div class="hero-decoration"></div>
        </div>
      </header>

      <!-- ===== プロフィール ===== -->
      <section class="section profile-section">
        <div class="section-header">
          <h2 class="section-title">
            <i class="fas fa-user"></i> プロフィール
          </h2>
          <div class="section-line"></div>
        </div>
        <div class="profile-grid">
          <div class="profile-item">
            <div class="profile-icon"><i class="fas fa-university"></i></div>
            <div class="profile-content">
              <h3>所属</h3>
              <p>{{ university }} / {{ year }}</p>
            </div>
          </div>
          <div class="profile-item">
            <div class="profile-icon">
              <i class="fas fa-graduation-cap"></i>
            </div>
            <div class="profile-content">
              <h3>卒業予定</h3>
              <p>{{ graduation_year }}年</p>
            </div>
          </div>
          <div class="profile-item full-width">
            <div class="profile-icon"><i class="fas fa-quote-left"></i></div>
            <div class="profile-content">
              <h3>自己紹介</h3>
              <p>{{ self_intro }}</p>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== スキル ===== -->
      <section class="section skills-section">
        <div class="section-header">
          <h2 class="section-title"><i class="fas fa-code"></i> スキル</h2>
          <div class="section-line"></div>
        </div>
        <div class="skills-grid">
          {% for skill in skills %}
          <div class="skill-item">
            <div class="skill-name">{{ skill.name }}</div>
            <div class="skill-level">
              <div class="skill-bar">
                <div class="skill-fill" data-width="{{ skill.level * 20 }}"></div>
              </div>
              <span class="skill-percentage">{{ skill.level }}/5</span>
            </div>
          </div>
          {% endfor %}
        </div>
      </section>

      <!-- ===== 実績・資格 ===== -->
      {% if achievements or certifications %}
      <section class="section achievements-section">
        <div class="section-header">
          <h2 class="section-title">
            <i class="fas fa-trophy"></i> 実績・資格
          </h2>
          <div class="section-line"></div>
        </div>
        <div class="achievements-grid">
          {% if achievements %}
          <div class="achievement-item">
            <div class="achievement-icon"><i class="fas fa-medal"></i></div>
            <div class="achievement-content">
              <h3>実績</h3>
              <p>{{ achievements }}</p>
            </div>
          </div>
          {% endif %} {% if certifications %}
          <div class="achievement-item">
            <div class="achievement-icon">
              <i class="fas fa-certificate"></i>
            </div>
            <div class="achievement-content">
              <h3>資格</h3>
              <p>{{ certifications }}</p>
            </div>
          </div>
          {% endif %}
        </div>
      </section>
      {% endif %}

      <!-- ===== 制作物 ===== -->
      {% if projects %}
      <section class="section projects-section">
        <div class="section-header">
          <h2 class="section-title">
            <i class="fas fa-code"></i> 制作物
          </h2>
          <div class="section-line"></div>
        </div>
        <div class="projects-grid">
          {% for project in projects %}
          <div class="project-card">
            <div class="project-header">
              <div class="project-icon"><i class="fas fa-laptop-code"></i></div>
              <h3 class="project-title">{{ project.title }}</h3>
            </div>
            <div class="project-content">
              <p class="project-description">{{ project.description }}</p>
              {% if project.tech %}
              <div class="project-tech">
                <strong>技術スタック:</strong>
                <div class="tech-tags">
                  {% for tech in project.tech %}
                  <span class="tech-tag">{{ tech }}</span>
                  {% endfor %}
                </div>
              </div>
              {% endif %}
              {% if project.url %}
              <div class="project-link-container">
                <a
                  href="{{ project.url }}"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="project-link"
                >
                  <i class="fas fa-external-link-alt"></i>
                  プロジェクトを見る
                </a>
              </div>
              {% endif %}
            </div>
          </div>
          {% endfor %}
        </div>
      </section>
      {% endif %}

      <!-- ===== コンタクト ===== -->
      {% if contact_email or sns_links or contact_github %}
      <section class="section contact-section">
        <div class="section-header">
          <h2 class="section-title">
            <i class="fas fa-envelope"></i> コンタクト
          </h2>
          <div class="section-line"></div>
        </div>
        <div class="contact-grid">
          {% if contact_email %}
          <a href="mailto:{{ contact_email }}" class="contact-item">
            <div class="contact-icon"><i class="fas fa-envelope"></i></div>
            <div class="contact-content">
              <h3>Email</h3>
              <p>{{ contact_email }}</p>
            </div>
          </a>
          {% endif %} {% if contact_github %}
          <a
            href="{{ contact_github }}"
            target="_blank"
            rel="noopener noreferrer"
            class="contact-item"
          >
            <div class="contact-icon"><i class="fab fa-github"></i></div>
            <div class="contact-content">
              <h3>GitHub</h3>
              <p>{{ contact_github }}</p>
            </div>
          </a>
          {% endif %} {% if sns_links %} {% for sns in sns_links %}
          <a
            href="{{ sns }}"
            target="_blank"
            rel="noopener noreferrer"
            class="contact-item"
          >
            <div class="contact-icon"><i class="fas fa-link"></i></div>
            <div class="contact-content">
              <h3>SNS</h3>
              <p>{{ sns }}</p>
            </div>
          </a>
          {% endfor %} {% endif %}
        </div>
      </section>
      {% endif %}
    </div>
    
    <script>
      // スキルバーのアニメーション
      document.addEventListener('DOMContentLoaded', function() {
        const skillFills = document.querySelectorAll('.skill-fill');
        
        // Intersection Observer for skill animation
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const skillFill = entry.target;
              const width = skillFill.getAttribute('data-width');
              setTimeout(() => {
                skillFill.style.width = width + '%';
              }, 200);
            }
          });
        }, { threshold: 0.5 });
        
        skillFills.forEach(fill => {
          fill.style.width = '0%';
          observer.observe(fill);
        });
      });
    </script>
  </body>
</html>
